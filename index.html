<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>CareSens Air en Farmacias Ahumada</title>
<meta name="description" content="Encuentra tu sensor CareSens Air en Farmacias Ahumada por regiÃ³n y abre cada farmacia en Google Maps." />
<style>
  :root {
    --brand:#0ea5e9; --brand-600:#0284c7; --ring:rgba(14,165,233,.25);
    --bg:#f6f7fb; --text:#0f172a; --muted:#64748b; --card:#fff;
  }
  *{box-sizing:border-box}
  html,body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif}
  a{color:var(--brand-600);text-decoration:none}
  .wrap{max-width:1080px;margin:0 auto;padding:20px}
  /* HERO */
  .hero{background:linear-gradient(180deg,#fff,#f8fafc);border-radius:20px;padding:18px;box-shadow:0 14px 40px rgba(2,8,23,.06);display:grid;grid-template-columns:1fr;gap:14px;align-items:center}
  @media(min-width:900px){.hero{grid-template-columns:1fr}}
  .brand{display:flex;gap:14px;align-items:center;justify-content:space-between}
  .brand img{height:52px;width:auto;object-fit:contain}
  h1{font-size:clamp(22px,3.2vw,34px);line-height:1.15;margin:0}
  .sub{color:var(--muted);margin-top:6px}
  .toolbar{display:flex;flex-wrap:wrap;gap:10px;align-items:center;margin-top:14px}
  input[type="search"]{padding:12px 14px;border:1px solid #e2e8f0;border-radius:12px;min-width:260px;outline:none;background:#fff}
  input[type="search"]:focus{border-color:var(--brand);box-shadow:0 0 0 4px var(--ring)}
  button{padding:10px 12px;border-radius:12px;border:1px solid #e2e8f0;background:#fff;cursor:pointer}
  .primary{background:var(--brand);color:#fff;border-color:transparent}
  /* LISTADO */
  main{margin-top:18px;display:grid;gap:16px}
  details.region{background:var(--card);border:1px solid #e5e7eb;border-radius:16px;overflow:hidden;box-shadow:0 12px 28px rgba(2,8,23,.06)}
  details.region>summary{padding:16px;cursor:pointer;list-style:none;font-weight:700;display:flex;align-items:center;justify-content:space-between;gap:12px}
  details.region[open]>summary{background:#f8fafc}
  .pill{font-weight:600;color:#0f172a;background:#eef2ff;padding:6px 10px;border-radius:999px;font-size:12px}
  .list{padding:12px 16px 16px 16px;display:grid;gap:10px}
  .item{border:1px solid #e5e7eb;border-radius:14px;padding:12px;background:#fff}
  .item b{display:block;margin-bottom:4px}
  .muted{color:var(--muted)}
  .btn{display:inline-block;padding:9px 12px;border-radius:10px;text-decoration:none;border:1px solid #e2e8f0}
  .btn.primary{background:var(--brand);color:#fff;border-color:transparent}
  footer{color:var(--muted);text-align:center;margin:24px 0}
  .hide{display:none !important}
</style>
</head>
<body>
  <div class="wrap">
    <section class="hero">
      <div class="brand">
        <img id="logo" src="logo.png" alt="i-SENS" onerror="this.classList.add('hide')" />
        <div style="flex:1; text-align:center">
          <h1>Encuentra tu sensor <span style="color:var(--brand)">CareSens Air</span> en Farmacias Ahumada</h1>
          <div class="sub">Busca por regiÃ³n y abre cada farmacia en Google Maps.</div>
          <div style="margin-top:12px">
            <a class="btn primary" target="_blank" href="https://www.farmaciasahumada.cl/sensor-de-monitoreo-caresen-air-continuo-15-dia-1-un-95435.html">
              ðŸ›’ Comprar CareSens Air online en Farmacias Ahumada
            </a>
          </div>
        </div>
        <img id="logo-fa" src="logofa.svg" alt="Farmacias Ahumada" style="height:50px;width:auto" onerror="this.classList.add('hide')" />
      </div>
      <div class="toolbar">
        <input id="q" type="search" placeholder="Buscar farmacia o direcciÃ³nâ€¦" />
        <button id="expandAll">Abrir todo</button>
        <button id="collapseAll">Cerrar todo</button>
      </div>
    </section>

    <main id="regions"></main>

    <footer>
      Â¿Tienes dudas con <b>CareSens Air</b>?<br>
      ContÃ¡ctanos al <a href="https://wa.me/56947383823" target="_blank">+56 9 4738 3823</a><br>
      Horario de atenciÃ³n: lunes a viernes, 09:00 a 17:30 hrs.
    </footer>
  </div>

<script>
  const DATA = {"RegiÃ³n Metropolitana": [{"name": "L0212_San Damian 20", "address": "San DamiÃ¡n NÂ° 20 (Urgencia)"}, {"name": "L0272_Av. Los Leones 1.178", "address": "Los Leones NÂ° 1160 (Urgencia)"}, {"name": "L0024_Apumanque L 232", "address": "Manquehue Sur NÂ° 31 Local 232,194,196 / Apumanque"}, {"name": "L0285_La Dehesa 457", "address": "Av. La Dehesa 457"}, {"name": "L0360_Mc Donalds Pajaritos", "address": "Avenida Los Pajaritos NÂ°7001, Pudahuel"}, {"name": "L0351_Vitacura Kentucky (Reemplazo Vitac", "address": "Av. Vitacura NÂ° 6345, Vitacura (Urgencia)"}], "RegiÃ³n de Valparaiso": [{"name": "L0145_Libertad 335 ViÃ±a", "address": "Av. Libertad NÂ°335 (Urgencia)"}, {"name": "L0669_Lider PeÃ±ablanca", "address": "Camino Troncal NÂ°1561, Local 1, PeÃ±ablanca"}]};

  function mapsUrl(address){ return `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address)}`; }

  const regionsEl = document.getElementById('regions');
  const q = document.getElementById('q');

  function render(filter=""){
    regionsEl.innerHTML = "";
    const filterLC = filter.trim().toLowerCase();
    const regions = Object.keys(DATA).sort((a,b)=>a.localeCompare(b,'es'));
    regions.forEach(region=>{
      const list = DATA[region] || [];
      const sorted = list.slice().sort((a,b)=> (a.name||'').localeCompare(b.name||'', 'es'));
      const filtered = sorted.filter(f=> {
        if(!filterLC) return true;
        return (f.name||"").toLowerCase().includes(filterLC)
            || (f.address||"").toLowerCase().includes(filterLC)
            || region.toLowerCase().includes(filterLC);
      });
      if(!filtered.length) return;
      const det = document.createElement('details');
      det.className = 'region';
      const sum = document.createElement('summary');
      sum.innerHTML = `${region} <span class="pill">${filtered.length}</span>`;
      det.appendChild(sum);

      const cont = document.createElement('div');
      cont.className = 'list';
      filtered.forEach(f=>{
        const row = document.createElement('div');
        row.className = 'item';
        row.innerHTML = `
          <b>${f.name || ""}</b>
          ${f.address ? `<div class="muted">${f.address}</div>` : ""}
          <div style="margin-top:8px">
            <a class="btn primary" target="_blank" rel="noreferrer" href="${mapsUrl(f.address || f.name)}">Ver en Google Maps</a>
          </div>
        `;
        cont.appendChild(row);
      });
      det.appendChild(cont);
      regionsEl.appendChild(det);
    });

    if(!regionsEl.children.length){
      const p = document.createElement('div');
      p.className = 'item';
      p.textContent = 'No hay resultados para tu bÃºsqueda.';
      regionsEl.appendChild(p);
    }
  }

  document.getElementById('expandAll').onclick = ()=> Array.from(regionsEl.querySelectorAll('details.region')).forEach(d=> d.open = true);
  document.getElementById('collapseAll').onclick = ()=> Array.from(regionsEl.querySelectorAll('details.region')).forEach(d=> d.open = false);
  q.addEventListener('input', ()=> render(q.value));
  render();
</script>
</body>
</html>
